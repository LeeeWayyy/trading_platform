# Alpaca API Configuration
ALPACA_API_KEY_ID=your_key_here
ALPACA_API_SECRET_KEY=your_secret_here
ALPACA_BASE_URL=https://paper-api.alpaca.markets

# Database Configuration
DATABASE_URL=postgresql+psycopg://trader:trader@localhost:5432/trader

# Redis Configuration
REDIS_URL=redis://localhost:6379/1  # DB 1 for OAuth2 sessions (DB 0 reserved for other services)

# Application Configuration
STRATEGY_ID=alpha_baseline
DRY_RUN=true

# Data Pipeline Configuration
DATA_FRESHNESS_MINUTES=30
OUTLIER_THRESHOLD=0.30

# Qlib Configuration (T2)
QLIB_DATA_DIR=./data/qlib_data
MLFLOW_TRACKING_URI=file:./artifacts/mlruns
MLFLOW_EXPERIMENT_NAME=alpha_baseline

# Orchestrator Configuration (T5)
SIGNAL_SERVICE_URL=http://localhost:8001
EXECUTION_GATEWAY_URL=http://localhost:8002
ORCHESTRATOR_URL=http://localhost:8003
CAPITAL=100000
MAX_POSITION_SIZE=20000

# Paper Run Configuration (T6)
# Defaults for scripts/paper_run.py automation
PAPER_RUN_SYMBOLS=AAPL,MSFT,GOOGL
PAPER_RUN_CAPITAL=100000
PAPER_RUN_MAX_POSITION_SIZE=20000

# Logging
LOG_LEVEL=INFO

# OAuth2/OIDC Authentication (P2T3 Phase 3)
# Component 1: Auth0 configuration
AUTH0_DOMAIN=your-tenant.us.auth0.com
AUTH0_CLIENT_ID=your_client_id_here
AUTH0_CLIENT_SECRET=your_client_secret_here
AUTH0_API_AUDIENCE=https://api.trading-platform.local

# Component 3: Session management
SESSION_COOKIE_NAME=trading_platform_session
# Generate with: python3 -c "import os, base64; print(base64.b64encode(os.urandom(32)).decode())"
SESSION_ENCRYPTION_KEY=your_base64_encoded_32_byte_key_here
SESSION_COOKIE_MAX_AGE=3600
SESSION_COOKIE_SECURE=true
SESSION_COOKIE_HTTPONLY=true
SESSION_COOKIE_SAMESITE=Lax

# Component 6: mTLS Fallback (Admin-Only Emergency Authentication)
# WARNING: Only enable in production for Auth0 IdP outage scenarios
# Default: false (fallback disabled)
ENABLE_MTLS_FALLBACK=false

# Admin CN allowlist (comma-separated Common Names from client certificates)
# Example: MTLS_ADMIN_CN_ALLOWLIST=admin.trading-platform.local,emergency-admin.trading-platform.local
MTLS_ADMIN_CN_ALLOWLIST=

# CRL distribution point URL (Certificate Revocation List)
# Default: Internal CA CRL endpoint
MTLS_CRL_URL=http://ca.trading-platform.local/crl/admin-ca.crl
